{"job":{"components":{"6910":{"id":6910,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[6955],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"6954":{"id":6954,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":115,"y":1,"width":32,"height":32,"inputConnectorIDs":[6955],"outputSuccessConnectorIDs":[8806],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Bash Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are exported into bash, but should be considered read-only: \n#    echo $myvar\n###\necho \"hello\"\n#export AWS_ACCESS_KEY_ID=AKIA45YAMFADY5HUNZUX\n#export AWS_SECRET_ACCESS_KEY=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\n#Set-AWSCredential -AccessKey AKIA45YAMFADY5HUNZUX -SecretKey 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 -StoreAs myProfileName\n#Set-AWSCredential -ProfileName myProfileName\ncurl  --user admin:Admin@123 -H \"Content-Type:application/json\" -X POST --data '{\"auth\": {\"authType\": \"HTTPS\",\"username\": \"'\"$git_username\"'\",\"password\": \"'\"$git_password\"'\"},\"fetchOptions\": {\"removeDeletedRefs\": \"false\",\"thinFetch\": \"false\"}}' http://localhost:8080/rest/v1/group/name/WM_demo/project/name/demo_Mat_AWS/scm/fetch\n#curl  --user nihanshbitla:$api_password -H \"Content-Type:application/json\" -X POST --data '{\"auth\": {\"authType\": \"HTTPS\",\"username\": \"amulyabharatha\",\"password\": \"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\"},\"fetchOptions\": {\"removeDeletedRefs\": \"false\",\"thinFetch\": \"false\"}}' http://localhost:8080/rest/v1/group/name/WM_demo/project/name/mtln_demo/scm/fetch\n#curl  --user nihanshbitla:$api_password -H \"Content-Type:application/json\" -X POST --data '{\"auth\": {\"authType\": \"HTTPS\",\"username\": \"$git_username\",\"password\": \"$git_password\"},\"fetchOptions\": {\"removeDeletedRefs\": \"false\",\"thinFetch\": \"false\"}}' http://localhost:8080/rest/v1/group/name/Fastlane_Ingestion_Datamart/project/name/Billing_Invoice/scm/fetch"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"8805":{"id":8805,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":232,"y":3,"width":32,"height":32,"inputConnectorIDs":[8806],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"import requests\nimport json\n\n\n#CODE TO FIND UNCOMMITTED CHANGES#\n\nresponse = requests.get('http://localhost:8080/rest/v1/group/name/WM_demo/project/name/demo_Mat_AWS/version/name/default/scm/differences', auth=('admin', 'Admin@123'))\n\nprint(response.text)\noutput =  json.loads(response.text)\n\nfinalOutput = output[\"result\"][\"changes\"][\"nonDotfileChanges\"]\nprint(finalOutput)\n\n\nuncommits = str(finalOutput).replace(\"'\",\"\\\"\")\nprint(uncommits)\n#CODE TO COMMIT UNCOMMITED CHANGES#\n\nheaders = {'Content-Type': 'application/json'}\n\n#data =  \"\"\"{\"branchName\":\"feat\",\"changes\":[%s],\"commitMetadata\":{\"commitMessage\":\"test commit for CI/CD\",\"userIdentifier\":{\"username\":\"nihanshbitla\",\"emailAddress\":nihanshbitla@gmail.com}}}\"\"\"%uncommits\ndata = {\"branchName\":\"test_3\", \"changes\":[{\"type\": \"MODIFIED\", \"filePath\": \"ROOT/Demo/orch_fetch_job_2.ORCHESTRATION\"}],\"commitMetadata\":{\"commitMessage\":\"initial commit\",\"userIdentifier\":{\"username\":\"amulyabharatha\",\"emailAddress\":\"amulyabharatha@gmail.com\"}}}\nresponse2 = requests.post('http://localhost:8080/rest/v1/group/name/WM_demo/project/name/demo_Mat_AWS/version/name/default/scm/commit', headers=headers,data =data,auth=('admin', 'Admin@23'))\n\nprint(response2.text)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"8806":{"id":8806,"sourceID":6954,"targetID":8805}},"failureConnectors":{},"unconditionalConnectors":{"6955":{"id":6955,"sourceID":6910,"targetID":6954}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{},"grids":{}},"info":{"name":"orch_fetch_job_2","description":null,"type":"ORCHESTRATION","tag":"9ef534ce-bde9-4bd7-ae79-bd1a0838197c"}}